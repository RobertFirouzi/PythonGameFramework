PROJECT CharmQuark 

algorithm already calculates pixel index based on tile index - how to rectify this for animated?
	if coordinate over certain value, then recacluate tile per frame?  Sounds slow...
	save the calculated frame values as lists in the tilemap container.  Use dictionary
	based on starting index, which can be used to calculate an indexed list.  then if the
	Y value of the index > animated cutoff, look up index from dictionary to get blit offset.

add animation algorithm to blitting tiles


metrics:
render all ~9-10ms per loop
render changed: 0.07-0.1ms per loop
over 100 times faster to render changed!

renderAllTiles upper and lower can be combined to one method (with passing 1 param)

features:
Animate Tiles
	can have an animated tilemap set, and static tilemap image
		based on index, which one to load is known.
		based on framcount and fps of tilemap, can know which animated tilemap image to use
		can blit all onto one surface, and calculate the postion of blit based in index, fps, framecount
			(so animated tiles have several entries on the one tilemap)
Sprites for actors
Animate actors
Weather or other visual ambient affects
Special effects (eg: add a spell cast animation, or any special animation call)
HUD

debug:
right click a tile and be able to change its tilemap index?

general todo
Documentation Documentation Documentation
all size variables named including pixel or tile ("<var>_px" or "<var>_tile")
need to seperate out some of the parameters and name them, rather then lists and sublists (eg scroll speed)

buttomap
	the button map should reference the actual keys, which get mapped to specific behaviors

BUG:
default action trying to access depcrecated levelLayout Object

Need to decide if (height, width) or (width, height)
probably should do (height, width) since that is === to (rows, columns), but be consitent

should gameCamera just be in renderer?
	cleanup camera references

SOFTWARE DESIGN
use packages to organize modules?
Write down algorithm for rendering scenery somewhere!
In Panorama render: Var Names - need better names for each variable.  Can some of the calculations be optimized?  
Should the camera tile and offset be class fields for Renderer? 
sound logging/error checking is overboard, proably don't need now that things are working well.  
  (Assume the API is correctly used by the programmer, and trust to the unit tests?) 

RENDER
make renderLevel (render menu, cutscene, etc) their own methods.  Set the game.render method
on a load (removes a branch from render, cleans up code)

TESTING:
Render changed may have bugs not uncovered (like the overshoot/negative bug).  investigate
Put print statements in loops to ensure not rendering more than necessary panoramas or tiles
Experiment with smaller screen size, number of layers, etc. for speed/performance. 
Need to eventually figure out better unit testing

OPTIMIZATION
PRAMS all integers not strings
render changed background for animated panoramas (complex algorithm, may not be worth it)
can have pygame only get() relevant (chosen) events from the queue
Double Buffering?
For the EventHandler dictionary, use a tuple and index into it by int (not a dict with string) 

ACTORS
Render an actor if onscreen only
Render all actors should include the actors and the scenery images to render.  These must be sorted on Y position to get proper layering when rendering
	will need to think of a good way to sort these optimally, or will impact performance

TOOLS
GIMP - learn mainly for transparency effect, then try to put in with transparency to pygame

ANIMATION
Tiles
Actors

HUD
Need a hud
Menus
Text Boxes (pygame tutorial has something on this)

EVENTS
on a load level event, need to flush the event queue to prefent incorrect events from running
create an event type EventList which adds a list of events to the queue
create an event type flush queue which removes any remaining events from the queue (fix the menu bug when transitioning)
how to change tiles based on events (e.g. pull a switch to open a door)
how to have events spaced out over frames, or timed?
-NPC's and objects which can be interacted with
-how to repeate an ambiant track?


PANORAMA
using os.listdir for loading animated backgrounds - instead store the filenames as a list:
	will need to change the filename from TEXT to BLOB in the DB